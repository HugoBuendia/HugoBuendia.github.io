---
import '../styles/global.css';

interface Props {
	title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Hugo Buendia - Proyecto Musical" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body>
		<nav class="navbar">
			<div class="nav-container">
				<a href="/" class="logo">HUGO BUENDIA</a>
				<div class="nav-links">
					<a href="#bio">Bio</a>
					<a href="#musica">Música</a>
					<a href="#galeria">Galería</a>
					<a href="#contacto">Contacto</a>
				</div>
			</div>
		</nav>
		<main>
			<slot />
		</main>
		<div class="cursor-dot"></div>
		<div class="cursor-outline"></div>
	</body>
</html>

<style>
	.navbar {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		padding: 2rem;
		z-index: 100;
		mix-blend-mode: difference;
	}

	.nav-container {
		display: flex;
		justify-content: space-between;
		align-items: center;
		max-width: 1400px;
		margin: 0 auto;
	}

	.logo {
		font-family: var(--font-display);
		font-size: 1.5rem;
		letter-spacing: 0.05em;
	}

	.nav-links {
		display: flex;
		gap: 2rem;
		font-family: var(--font-display);
		font-size: 1.1rem;
	}

	.nav-links a {
		position: relative;
		overflow: hidden;
	}

	.nav-links a::after {
		content: '';
		position: absolute;
		bottom: 0;
		left: 0;
		width: 100%;
		height: 1px;
		background-color: var(--color-text);
		transform: translateX(-100%);
		transition: transform 0.3s ease;
	}

	.nav-links a:hover::after {
		transform: translateX(0);
	}

	/* Custom Cursor */
	.cursor-dot,
	.cursor-outline {
		position: fixed;
		top: 0;
		left: 0;
		transform: translate(-50%, -50%);
		border-radius: 50%;
		z-index: 9999;
		pointer-events: none;
	}

	.cursor-dot {
		width: 8px;
		height: 8px;
		background-color: var(--color-accent);
	}

	.cursor-outline {
		width: 40px;
		height: 40px;
		border: 1px solid var(--color-text);
		opacity: 0.5;
		transition: width 0.2s, height 0.2s, background-color 0.2s;
	}

	@media (max-width: 768px) {
		.nav-links {
			display: none; /* Simple mobile nav for now */
		}
		.cursor-dot, .cursor-outline {
			display: none;
		}
	}
</style>

<script>
	// Custom Cursor Logic
	const cursorDot = document.querySelector('.cursor-dot') as HTMLElement;
	const cursorOutline = document.querySelector('.cursor-outline') as HTMLElement;

	window.addEventListener('mousemove', (e) => {
		const posX = e.clientX;
		const posY = e.clientY;

		if (cursorDot && cursorOutline) {
			cursorDot.style.left = `${posX}px`;
			cursorDot.style.top = `${posY}px`;

			// Add a slight delay to the outline for a smooth effect
			cursorOutline.animate({
				left: `${posX}px`,
				top: `${posY}px`
			}, { duration: 500, fill: "forwards" });
		}
	});

	// Hover effect on links
	const links = document.querySelectorAll('a');
	links.forEach(link => {
		link.addEventListener('mouseenter', () => {
			if (cursorOutline) {
				cursorOutline.style.width = '60px';
				cursorOutline.style.height = '60px';
				cursorOutline.style.backgroundColor = 'rgba(184, 93, 25, 0.1)';
				cursorOutline.style.borderColor = 'var(--color-accent)';
			}
		});
		link.addEventListener('mouseleave', () => {
			if (cursorOutline) {
				cursorOutline.style.width = '40px';
				cursorOutline.style.height = '40px';
				cursorOutline.style.backgroundColor = 'transparent';
				cursorOutline.style.borderColor = 'var(--color-text)';
			}
		});
	});
</script>
